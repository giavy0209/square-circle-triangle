(this["webpackJsonpempty-project"]=this["webpackJsonpempty-project"]||[]).push([[0],[,,,,,,,,,function(t,e,a){t.exports=a.p+"static/media/bird-1.4ec8ffde.gif"},function(t,e,a){t.exports=a.p+"static/media/bird-2.b64e7532.gif"},function(t,e,a){t.exports=a.p+"static/media/bird-3.07ca7c8c.gif"},function(t,e,a){t.exports=a.p+"static/media/bird-4.7462c66b.gif"},function(t,e,a){t.exports=a.p+"static/media/bird-5.3dfe6380.gif"},function(t,e,a){t.exports=a.p+"static/media/cloud.4e2cc3de.gif"},function(t,e,a){t.exports=a.p+"static/media/cloud-1.615f9343.gif"},function(t,e,a){t.exports=a.p+"static/media/sun.ceecbeb5.gif"},function(t,e,a){t.exports=a(23)},,,,,function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=a(4),l=a(8),s=a(1);var u=function(t){var e=t.Level,a=t.SubLevel;return r.a.createElement("div",{className:"level-zone"},r.a.createElement("p",null,"Level = ",e," "),r.a.createElement("p",null,"SubLevel = ",a," "))},d=a(2);function m(t,e){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=t}),[t]),Object(n.useEffect)((function(){if(null!==e){var t=setInterval((function(){a.current()}),e);return function(){return clearInterval(t)}}}),[e])}var f=a(9),p=a.n(f),v=a(10),b=a.n(v),g=a(11),h=a.n(g),j=a(12),O=a.n(j),S=a(13),E=a.n(S),M=[p.a,b.a,h.a,O.a,E.a],y=a(14),k=a.n(y),H=a(15),P=a.n(H);var D=function(t){var e=t.ScreenWidth,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(0),u=Object(s.a)(l,2),f=u[0],p=u[1],v=Object(n.useState)([]),b=Object(s.a)(v,2),g=b[0],h=b[1],j=Object(n.useState)([]),O=Object(s.a)(j,2),S=O[0],E=O[1],y=Object(n.useState)([{top:0,left:0},{top:0,left:0}]),H=Object(s.a)(y,2),D=H[0],N=H[1];return m((function(){for(var t=[],a=0;a<D.length;a++)t.push({left:Math.random()*(e-100),top:100*Math.random()});N([].concat(t))}),3e3),m((function(){p(6*Math.random()+2),e&&o.length<5&&(o.push({top:100*Math.random(),type:M[Math.round(Math.random()*(M.length-1))]}),S.push({top:100*Math.random(),type:M[Math.round(Math.random()*(M.length-1))]}),g.push(e),i(Object(d.a)(o)),E(Object(d.a)(S)),h(Object(d.a)(g)))}),1e3*f),m((function(){g.forEach((function(t,e){g[e]=t-5})),g.forEach((function(t,e){t<-200&&(g.splice(e,1),o.splice(e,1),S.splice(e,1))})),i(Object(d.a)(o)),E(Object(d.a)(S)),h(Object(d.a)(g))}),50),r.a.createElement("div",{className:"bird-zone"},r.a.createElement("div",null,r.a.createElement("img",{className:"cloud",style:{left:D[0].left,top:D[0].top},src:k.a,alt:""}),r.a.createElement("img",{className:"cloud",style:{left:D[1].left,top:D[1].top},src:P.a,alt:""})),o.map((function(t,e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"bird",alt:"",src:t.type,key:e,style:{transform:"translate(0,"+t.top+"px)",left:g[e]}}),r.a.createElement("img",{className:"bird to-right",alt:"",src:S[e].type,key:e+20,style:{transform:"translate(0,"+t.top+"px) , rotateY(180deg)",right:g[e]}}))})))},N=a(16),C=a.n(N);var I=function(t){var e=t.ScreenWidth,a=t.IsDay,c=t.setIsDay,o=Object(n.useState)({top:50,right:-100}),i=Object(s.a)(o,2),l=i[0],u=i[1];return m((function(){e&&(50===l.top&&-100===l.right?(c(!0),u({top:0,right:(e-100)/2})):0===l.top&&l.right===(e-100)/2?u({top:50,right:e}):(l.top,l.right===e&&(c(!1),u({top:50,right:-100}))))}),1e4),r.a.createElement("div",{className:"sun",style:{top:l.top,right:l.right,transition:a?"all 10s cubic-bezier(0,0,0,0)":"none"}},r.a.createElement("img",{alt:"",src:C.a}))};var L=function(t){var e=t.IsMonsterDead,a=t.MonsterState;return r.a.createElement("div",{className:"monster monster-"+a.type,style:e?{opacity:0}:{opacity:1}})};var x=function(t){var e=t.MonsterState;return r.a.createElement("div",{className:"monster-hp-bar"},r.a.createElement("div",{className:"monster-hp",style:{width:(e.currentHP>0?e.currentHP/e.HP*100:0)+"%"}},r.a.createElement("span",null," ",e.currentHP>=0?e.currentHP:0," / ",e.HP," ")))};var w=function(t){var e=t.MonsterState,a=t.IsMonsterDead,n=t.ScreenWidth,c=t.IsDay,o=t.setIsDay;return r.a.createElement("div",{className:"monster-zone"},r.a.createElement(I,{ScreenWidth:n,IsDay:c,setIsDay:o}),r.a.createElement(D,{ScreenWidth:n}),r.a.createElement(L,{IsMonsterDead:a,MonsterState:e}),r.a.createElement(x,{MonsterState:e}))};var F=function(){return r.a.createElement("div",{className:"tank-body"})};var R=function(){return r.a.createElement("div",{className:"tank-gun"})};var W=function(t){var e=t.TankMove,a=t.setTankMove;return Object(n.useEffect)((function(){var t=document.querySelector(".game").offsetWidth;setTimeout((function(){e.position?e.dirrectLeft?e.position===t/2+40?a({position:e.position-1,dirrectLeft:!1}):a({position:e.position+1,dirrectLeft:!0}):e.position===t/2-40?a({position:e.position+1,dirrectLeft:!0}):a({position:e.position-1,dirrectLeft:!1}):a({position:t/2-40,dirrectLeft:!1})}),20)}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tank",style:e.position?{left:e.position}:{}},r.a.createElement(F,null),r.a.createElement(R,null)))};var z=function(t){var e=t.BulletMove,a=t.BulletPos;return r.a.createElement("div",{className:"bullet",style:{top:e,left:a}})};var G=function(t){var e=t.hitMonster,a=t.StatFireRate,c=(t.setStatFireRate,t.IsMonsterDead),o=Object(n.useState)({position:0,dirrectLeft:!1}),i=Object(s.a)(o,2),l=i[0],u=i[1],f=Object(n.useState)([]),p=Object(s.a)(f,2),v=p[0],b=p[1],g=Object(n.useState)(!0),h=Object(s.a)(g,2),j=h[0],O=h[1],S=Object(n.useState)([]),E=Object(s.a)(S,2),M=E[0],y=E[1],k=Object(n.useState)([]),H=Object(s.a)(k,2),P=H[0],D=H[1];return function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=Object(n.useRef)();Object(n.useEffect)((function(){r.current=e}),[e]),Object(n.useEffect)((function(){if(a&&a.addEventListener){var e=function(t){return r.current(t)};return a.addEventListener(t,e),function(){a.removeEventListener(t,e)}}}),[t,a])}("click",(function(){var t=document.querySelector(".tank-zone").offsetHeight;j&&(O(!1),v.push(!1),M.push(t/2),P.push(l.position),y(Object(d.a)(M)),D(Object(d.a)(P)),b(Object(d.a)(v)))}),document.querySelector(".tank-zone")),m((function(){if(console.log(v.length,M.length,P.length),v.length!==M.length||v.length!==P.length||M.length!==P.length){var t=[];b([].concat(t)),y([].concat(t)),D([].concat(t))}}),1e3),Object(n.useEffect)((function(){j||setTimeout((function(){O(!0)}),33.3333)}),[j]),m((function(){var t=document.querySelector(".tank-zone").offsetHeight;v.push(!1),M.push(t/2),P.push(l.position),y(Object(d.a)(M)),D(Object(d.a)(P)),b(Object(d.a)(v))}),a.stat),m((function(){M.forEach((function(t,e){M[e]=t-8})),M.forEach((function(t,a){t<-50&&(M.splice(a,1),v.splice(a,1),P.splice(a,1),c||e())})),y(Object(d.a)(M)),D(Object(d.a)(P)),b(Object(d.a)(v))}),10),r.a.createElement("div",{className:"tank-zone"},r.a.createElement("p",{style:{textAlign:"center"}},"Click here to shot"),r.a.createElement(W,{TankMove:l,setTankMove:u}),v.map((function(t,e){return r.a.createElement(z,{BulletMove:M[e],BulletPos:P[e]})})))};var T=function(t){var e=t.Gold,a=t.setGold,c=t.StatDmg,o=t.setStatDmg,i=t.StatFireRate,l=t.setStatFireRate,s=t.StatCrit,u=t.setStatCrit,d=t.StatCritDmg,m=t.setStatCritDmg,f=t.StatGold,p=t.setStatGold,v=Object(n.useCallback)((function(t){var n=t.target,r=Number(n.getAttribute("price"));if(e>=r){a(e-r);var v=n.getAttribute("upgrade");"dmg"===v&&o({stat:c.lv+1,lv:c.lv+1}),"fire"===v&&l({stat:i-i.lv,lv:i.lv+1}),"crit"===v&&u({stat:.1*s.lv,lv:s.lv+1}),"critdmg"===v&&m({stat:d.lv,lv:d.lv+1}),"gold"===v&&p({stat:f.lv,lv:f.lv+1})}}),[e,a,c,o,i,l,s,u,d,m,f,p]);return r.a.createElement("div",{className:"upgrade-zone"},r.a.createElement("p",null,"gold = ",e," "),r.a.createElement("button",{price:10*c.lv,upgrade:"dmg",onClick:v},"Upgrade dmg, level = ",c.lv," , dmg = ",c.stat," , price = ",10*c.lv," "),r.a.createElement("button",{price:10*i.lv,upgrade:"fire",onClick:v},"Upgrade fire, level = ",i.lv," , fire = ",1e3/i.stat,"/s , price = ",10*i.lv," "),r.a.createElement("button",{price:10*s.lv,upgrade:"crit",onClick:v},"Upgrade crit, level = ",s.lv," , crit = ",s.stat,"% , price = ",10*s.lv," "),r.a.createElement("button",{price:10*d.lv,upgrade:"critdmg",onClick:v},"Upgrade critdmg, level = ",d.lv," , critdmg = ",d.stat,"% , price = ",10*d.lv," "),r.a.createElement("button",{price:10*f.lv,upgrade:"gold",onClick:v},"Upgrade gold, level = ",f.lv," , gold = ",f.stat," %, price = ",10*f.lv," "))},B={HP:10,gold:1},q={crit:{stat:0,lv:1},critdmg:{stat:0,lv:1},dmg:{stat:1,lv:1},firerate:{stat:2e3,lv:1},gold:{stat:0,lv:1}};var U=q.crit,A=q.critdmg,J=q.dmg,Y=q.firerate,$=q.gold;var K=function(){var t=Object(n.useState)(0),e=Object(s.a)(t,2),a=e[0],c=e[1],o=Object(n.useState)(!0),d=Object(s.a)(o,2),m=d[0],f=d[1];Object(n.useEffect)((function(){c(document.querySelector(".game").offsetWidth)}),[]);var p=Object(n.useState)(1),v=Object(s.a)(p,2),b=v[0],g=v[1],h=Object(n.useState)(0),j=Object(s.a)(h,2),O=j[0],S=j[1],E=Object(n.useState)({HP:Math.ceil(B.HP*b),currentHP:Math.ceil(B.HP*b),gold:Math.floor(B.gold*b),type:Math.round(19*Math.random()+1)}),M=Object(s.a)(E,2),y=M[0],k=M[1],H=Object(n.useState)(0),P=Object(s.a)(H,2),D=P[0],N=P[1],C=Object(n.useState)(J),I=Object(s.a)(C,2),L=I[0],x=I[1],F=Object(n.useState)(Y),R=Object(s.a)(F,2),W=R[0],z=R[1],q=Object(n.useState)(U),K=Object(s.a)(q,2),Q=K[0],V=K[1],X=Object(n.useState)(A),Z=Object(s.a)(X,2),_=Z[0],tt=Z[1],et=Object(n.useState)($),at=Object(s.a)(et,2),nt=at[0],rt=at[1],ct=Object(n.useState)(!1),ot=Object(s.a)(ct,2),it=ot[0],lt=ot[1],st=Object(n.useState)(1),ut=Object(s.a)(st,2),dt=ut[0],mt=ut[1],ft=Object(n.useCallback)((function(){O<10?S(O+1):(S(0),g(b+1),mt(dt+.5*dt))}),[b,O]),pt=Object(n.useCallback)((function(){var t=1;9===O&&(t=b%5===0?5:2),ft(),k(10===O?{HP:Math.ceil(B.HP*(b+1)*t*(dt+.5*dt)),currentHP:Math.ceil(B.HP*(b+1)*t*(dt+.5*dt)),gold:Math.floor(B.gold*(b+1)*t),type:Math.round(19*Math.random()+1)}:{HP:Math.ceil(B.HP*b*t*dt),currentHP:Math.ceil(B.HP*b*t*dt),gold:Math.floor(B.gold*b*t),type:Math.round(19*Math.random()+1)}),lt(!1)}),[b,B,y,O]),vt=Object(n.useCallback)((function(){var t=function(t){return Math.random()*t<=t}(Q.stat)?Math.ceil(y.currentHP-(L.stat+L.stat*_.stat/100)):Math.floor(y.currentHP-L.stat);k(Object(l.a)({},y,{currentHP:t})),t<=0&&(N(D+y.gold+y.gold*nt.stat/100),setTimeout((function(){pt()}),500),lt(!0))}),[y,L,nt,D,Q,_]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m?"game day":"game night"},r.a.createElement(u,{Level:b,SubLevel:O}),r.a.createElement(w,Object(i.a)({ScreenWidth:a,setIsDay:f,IsDay:m,MonsterState:y,IsMonsterDead:it},"MonsterState",y)),r.a.createElement(G,{hitMonster:vt,StatFireRate:W,setStatFireRate:z,IsMonsterDead:it}),r.a.createElement(T,{Gold:D,setGold:N,StatDmg:L,setStatDmg:x,StatFireRate:W,setStatFireRate:z,StatCrit:Q,setStatCrit:V,StatCritDmg:_,setStatCritDmg:tt,StatGold:nt,setStatGold:rt})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(22);o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.54c56340.chunk.js.map